<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>剪贴板</title>
</head>
<body>
<!--<p>-->
  <!--以下三个事件属于剪贴板操作的相关事件。-->

  <!--cut：将选中的内容从文档中移除，加入剪贴板时触发。-->
  <!--copy：进行复制动作时触发。-->
  <!--paste：剪贴板内容粘贴到文档后触发。-->

  <!--document.execCommand()方法，允许运行命令来操作可编辑区域的内容，注意，是可编辑区域。-->
<!--</p>-->
<p class="copy">复制成功了</p>
<button>点击复制</button>
<script>



  // function copyText(e){
  //   console.log(e);
  //   e.clipboardData.setData('text/plain', 'clipboardaaa');
  //   e.clipboardData.setData('text/html', '<b>clipboard</b>');
  //   e.preventDefault();
  // }
  // document.addEventListener('copy', copyText,false);
  let btn = document.querySelector('button');
  let copy = document.querySelector('.copy');
  btn.addEventListener('click',function (){
    const input = document.createElement('input');
    input.setAttribute('readonly', 'readonly');
    input.setAttribute('value', copy.innerHTML);
    document.body.appendChild(input);
    // input.select();  // input.select() 在ios下有兼容性的问题
    input.focus();
    input.setSelectionRange(0, input.value.length);
    if (document.execCommand('copy')) {
      document.execCommand('copy');
    }
    document.body.removeChild(input);
  })


</script>
</body>
</html>